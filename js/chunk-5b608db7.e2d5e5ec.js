(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b608db7"],{"0b03":function(t,a,e){"use strict";var s=e("0f4e"),n=e.n(s);n.a},"0f4e":function(t,a,e){},"46a6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ad-add"},[e("div",{staticClass:"row"},[e("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"添加广告分类",search:"","enter-button":"添加"},on:{"on-search":t.addAdClass}}),e("CheckboxGroup",{model:{value:t.locs,callback:function(a){t.locs=a},expression:"locs"}},[e("Checkbox",{attrs:{label:"首页"}}),e("Checkbox",{attrs:{label:"列表页"}}),e("Checkbox",{attrs:{label:"内容页"}})],1),e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择广告分类",multiple:"",filterable:"","label-in-value":""},model:{value:t.delclassids,callback:function(a){t.delclassids=a},expression:"delclassids"}},t._l(t.classList,(function(t){return e("Option",{key:t.classid,attrs:{label:t.classname,value:t.classid}})})),1),e("Button",{on:{click:t.delclassAction}},[t._v("删除")])],1),e("Divider",[t._v("添加广告")]),e("div",{staticClass:"row"},[e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"广告模式"},model:{value:t.model,callback:function(a){t.model=a},expression:"model"}},[e("Option",{attrs:{value:1}},[t._v("HTML广告")]),e("Option",{attrs:{value:2}},[t._v("文字广告")]),e("Option",{attrs:{value:3}},[t._v("图片/FLASH广告")]),e("Option",{attrs:{value:4}},[t._v("弹出广告")])],1),t._v(" "),e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择广告分类",filterable:"","label-in-value":""},on:{"on-change":t.classOnChange},model:{value:t.classid,callback:function(a){t.classid=a},expression:"classid"}},t._l(t.classList,(function(t){return e("Option",{key:t.classid,attrs:{label:t.classname,value:t.classid}})})),1)],1),e("div",{staticClass:"row"},[e("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"广告名"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),e("RadioGroup",{on:{"on-change":t.numScopeOnChange},model:{value:t.numScope,callback:function(a){t.numScope=a},expression:"numScope"}},[e("Radio",{attrs:{label:"1-16"}}),e("Radio",{attrs:{label:"1-9"}}),e("Radio",{attrs:{label:"1-26"}})],1),e("InputNumber",{attrs:{min:1,size:"small"},on:{"on-focus":function(a){t.numScope=""}},model:{value:t.numScopeMin,callback:function(a){t.numScopeMin=a},expression:"numScopeMin"}}),t._v(" - "),e("InputNumber",{attrs:{max:60,min:1,size:"small"},on:{"on-focus":function(a){t.numScope=""}},model:{value:t.numScopeMax,callback:function(a){t.numScopeMax=a},expression:"numScopeMax"}})],1),e("div",{staticClass:"row"},[t._v(" 是否启用 "),e("RadioGroup",{model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},[e("Radio",{attrs:{label:"1"}},[t._v("是")]),e("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),e("div",{staticClass:"row"},[e("Button",{attrs:{loading:t.createLoading},on:{click:t.createAd}},[t._v("创建")])],1)],1)},n=[],c=(e("99af"),e("4de4"),e("c975"),e("d81d"),e("b0c0"),e("bc3a")),i=e.n(c),l={name:"ADAdd",data:function(){return{numScopeMin:1,numScopeMax:16,numScope:"1-16",classid:"",delclassids:[],name:"",ecode:"",code:"",intro:"",model:1,status:"1",classList:[],createLoading:!1,locs:["首页","列表页","内容页"]}},methods:{numScopeOnChange:function(t){"1-16"===t?(this.numScopeMin=1,this.numScopeMax=16):"1-9"===t?(this.numScopeMin=1,this.numScopeMax=9):"1-26"===t?(this.numScopeMin=1,this.numScopeMax=26):(this.numScopeMin=1,this.numScopeMax=1)},classOnChange:function(t){console.log(t.label+1),this.name=t.label},addAdClass:function(t){var a=this,e=this.locs.map((function(e){var s=t+e,n={r:"Wap/AdClass/addAdClass"},c={classname:s};return a.$api.post("",{data:c},{params:n})})),s=this;i.a.all(e).then(i.a.spread((function(){for(var t=arguments,a=0,e=0;e<t.length;e++)t[e]["stat"]&&a++;s.$Message.success("".concat(a,"个成功！")),s.getAllClassList()})))},delclassAction:function(){var t=this,a=this.delclassids.map((function(a){var e={r:"Wap/AdClass/delAdClass",classid:a};return t.$api.get("",{params:e})})),e=this;i.a.all(a).then(i.a.spread((function(){for(var t=arguments,a=0,s=0;s<t.length;s++)t[s]["stat"]&&a++;e.$Message.success("".concat(a,"个删除成功！")),e.classList=e.classList.filter((function(t){return-1===e.delclassids.indexOf(t.classid)})),e.delclassids=[]})))},getAllClassList:function(){var t=this,a={r:"Wap/AdClass/getAllList"};this.$api.get("",{params:a}).then((function(a){t.classList=a.list}))},createAd:function(){this.createLoading=!0,this.creatADReq(this.numScopeMin)},creatADReq:function(t){var a=this,e={name:this.name+t,ecode:"",etime:"",stime:"",code:"",intro:"",model:this.model,status:this.status,classid:this.classid,number:""},s={r:"Wap/Advert/addAd"};this.$api.post("",{data:e},{params:s}).then((function(e){e.stat?(t+=1,t<=a.numScopeMax?a.creatADReq(t):(a.$Message.success("".concat(a.numScopeMin," - ").concat(a.numScopeMax," 全部成功！")),a.createLoading=!1)):(a.$Message.warning("".concat(t," -  ").concat(a.numScopeMax," 失败！")),a.createLoading=!1)})).catch((function(){a.$Message.error("".concat(t," -  ").concat(a.numScopeMax," 失败！")),a.createLoading=!1}))}},mounted:function(){this.getAllClassList()}},o=l,r=(e("0b03"),e("2877")),u=Object(r["a"])(o,s,n,!1,null,"36d44aee",null);a["default"]=u.exports},"4de4":function(t,a,e){"use strict";var s=e("23e7"),n=e("b727").filter,c=e("d039"),i=e("1dde"),l=i("filter"),o=l&&!c((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));s({target:"Array",proto:!0,forced:!l||!o},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},b0c0:function(t,a,e){var s=e("83ab"),n=e("9bf2").f,c=Function.prototype,i=c.toString,l=/^\s*function ([^ (]*)/,o="name";!s||o in c||n(c,o,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(t){return""}}})},b727:function(t,a,e){var s=e("f8c2"),n=e("44ad"),c=e("7b0b"),i=e("50c4"),l=e("65f0"),o=[].push,r=function(t){var a=1==t,e=2==t,r=3==t,u=4==t,d=6==t,p=5==t||d;return function(m,f,h,v){for(var b,S,g=c(m),x=n(g),M=s(f,h,3),A=i(x.length),C=0,k=v||l,w=a?k(m,A):e?k(m,0):void 0;A>C;C++)if((p||C in x)&&(b=x[C],S=M(b,C,g),t))if(a)w[C]=S;else if(S)switch(t){case 3:return!0;case 5:return b;case 6:return C;case 2:o.call(w,b)}else if(u)return!1;return d?-1:r||u?u:w}};t.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},d81d:function(t,a,e){"use strict";var s=e("23e7"),n=e("b727").map,c=e("d039"),i=e("1dde"),l=i("map"),o=l&&!c((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));s({target:"Array",proto:!0,forced:!l||!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);